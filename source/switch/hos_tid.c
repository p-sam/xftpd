#include "switch/hos_tid.h"

#include <stdlib.h>

typedef struct {
	u64 tid;
	const char* name;
} HosTid;

HosTid g_hos_tids[] = {
	{0x0100000000000000, "module_fs"},
	{0x0100000000000001, "module_loader"},
	{0x0100000000000002, "module_ncm"},
	{0x0100000000000003, "module_pm"},
	{0x0100000000000004, "module_sm"},
	{0x0100000000000005, "module_boot"},
	{0x0100000000000006, "module_usb"},
	{0x0100000000000007, "module_tma"},
	{0x0100000000000008, "module_boot2"},
	{0x0100000000000009, "module_settings"},
	{0x010000000000000A, "module_bus"},
	{0x010000000000000B, "module_bluetooth"},
	{0x010000000000000C, "module_bcat"},
	{0x010000000000000D, "module_dmnt"},
	{0x010000000000000E, "module_friends"},
	{0x010000000000000F, "module_nifm"},
	{0x0100000000000010, "module_ptm"},
	{0x0100000000000011, "module_shell"},
	{0x0100000000000012, "module_bsdsockets"},
	{0x0100000000000013, "module_hid"},
	{0x0100000000000014, "module_audio"},
	{0x0100000000000015, "module_LogManager"},
	{0x0100000000000016, "module_wlan"},
	{0x0100000000000017, "module_cs"},
	{0x0100000000000018, "module_ldn"},
	{0x0100000000000019, "module_nvservices"},
	{0x010000000000001A, "module_pcv"},
	{0x010000000000001B, "module_ppc"},
	{0x010000000000001C, "module_nvnflinger"},
	{0x010000000000001D, "module_pcie"},
	{0x010000000000001E, "module_account"},
	{0x010000000000001F, "module_ns"},
	{0x0100000000000020, "module_nfc"},
	{0x0100000000000021, "module_psc"},
	{0x0100000000000022, "module_capsrv"},
	{0x0100000000000023, "module_am"},
	{0x0100000000000024, "module_ssl"},
	{0x0100000000000025, "module_nim"},
	{0x0100000000000026, "module_cec"},
	{0x0100000000000027, "module_tspm"},
	{0x0100000000000028, "module_spl"},
	{0x0100000000000029, "module_lbl"},
	{0x010000000000002A, "module_btm"},
	{0x010000000000002B, "module_erpt"},
	{0x010000000000002C, "module_time"},
	{0x010000000000002D, "module_vi"},
	{0x010000000000002E, "module_pctl"},
	{0x010000000000002F, "module_npns"},
	{0x0100000000000030, "module_eupld"},
	{0x0100000000000031, "module_arp_glue"},
	{0x0100000000000032, "module_eclct"},
	{0x0100000000000033, "module_es"},
	{0x0100000000000034, "module_fatal"},
	{0x0100000000000035, "module_grc"},
	{0x0100000000000036, "module_creport"},
	{0x0100000000000037, "module_ro"},
	{0x0100000000000038, "module_profiler"},
	{0x0100000000000039, "module_sdb"},
	{0x010000000000003A, "module_migration"},
	{0x010000000000003B, "module_jit"},
	{0x010000000000003C, "module_jpegdec"},
	{0x010000000000003D, "module_safemode"},
	{0x010000000000003E, "module_olsc"},
	{0x010000000000003F, "module_dt"},
	{0x0100000000000040, "module_nd"},
	{0x0100000000000041, "module_ngct"},

	{0x0100000000000800, "archive_CertStore"},
	{0x0100000000000801, "archive_ErrorMessage"},
	{0x0100000000000802, "archive_MiiModel"},
	{0x0100000000000803, "archive_BrowserDll"},
	{0x0100000000000804, "archive_Help"},
	{0x0100000000000805, "archive_SharedFont"},
	{0x0100000000000806, "archive_NgWord"},
	{0x0100000000000807, "archive_SsidList"},
	{0x0100000000000808, "archive_Dictionary"},
	{0x0100000000000809, "archive_SystemVersion"},
	{0x010000000000080A, "archive_AvatarImage"},
	{0x010000000000080B, "archive_LocalNews"},
	{0x010000000000080C, "archive_Eula"},
	{0x010000000000080D, "archive_UrlBlackList"},
	{0x010000000000080E, "archive_TimeZoneBinary"},
	{0x010000000000080F, "archive_CertStoreCruiser"},
	{0x0100000000000810, "archive_FontNintendoExtension"},
	{0x0100000000000811, "archive_FontStandard"},
	{0x0100000000000812, "archive_FontKorean"},
	{0x0100000000000813, "archive_FontChineseTraditional"},
	{0x0100000000000814, "archive_FontChineseSimple"},
	{0x0100000000000815, "archive_FontBfcpx"},
	{0x0100000000000816, "archive_SystemUpdate"},
	{0x0100000000000818, "archive_FirmwareDebugSettings"},
	{0x0100000000000819, "archive_BootImagePackage"},
	{0x010000000000081A, "archive_BootImagePackageSafe"},
	{0x010000000000081B, "archive_BootImagePackageExFat"},
	{0x010000000000081C, "archive_BootImagePackageExFatSafe"},
	{0x010000000000081D, "archive_FatalMessage"},
	{0x010000000000081E, "archive_ControllerIcon"},
	{0x010000000000081F, "archive_PlatformConfigIcosa"},
	{0x0100000000000820, "archive_PlatformConfigCopper"},
	{0x0100000000000821, "archive_PlatformConfigHoag"},
	{0x0100000000000822, "archive_ControllerFirmware"},
	{0x0100000000000823, "archive_NgWord2"},
	{0x0100000000000824, "archive_PlatformConfigIcosaMariko"},
	{0x0100000000000825, "archive_ApplicationBlackList"},
	{0x0100000000000826, "archive_RebootlessSystemUpdateVersion"},
	{0x0100000000000827, "archive_ContentActionTable"},
	{0x0100000000000828, "archive_FunctionBlackList"},
	{0x0100000000000829, "archive_PlatformConfigCalcio"},
	{0x0100000000000830, "archive_NgWordT"},

	{0x0100000000001000, "archive_qlaunch"},
	{0x0100000000001001, "archive_auth"},
	{0x0100000000001002, "archive_cabinet"},
	{0x0100000000001003, "archive_controller"},
	{0x0100000000001004, "archive_dataErase"},
	{0x0100000000001005, "archive_error"},
	{0x0100000000001006, "archive_netConnect"},
	{0x0100000000001007, "archive_playerSelect"},
	{0x0100000000001008, "archive_swkbd"},
	{0x0100000000001009, "archive_miiEdit"},
	{0x010000000000100A, "archive_web"},
	{0x010000000000100B, "archive_shop"},
	{0x010000000000100C, "archive_overlayDisp"},
	{0x010000000000100D, "archive_photoViewer"},
	{0x010000000000100E, "archive_set"},
	{0x010000000000100F, "archive_offlineWeb"},
	{0x0100000000001010, "archive_loginShare"},
	{0x0100000000001011, "archive_wifiWebAuth"},
	{0x0100000000001012, "archive_starter"},
	{0x0100000000001013, "archive_myPage"},
	{0x0100000000001014, "archive_PlayReport"},
	{0x0100000000001015, "archive_MaintenanceMenu"},
	{0x0100000000001016, "archive_"},
	{0x0100000000001018, "archive_"},
	{0x0100000000001019, "archive_"},
	{0x010000000000101A, "archive_gift"},
	{0x010000000000101B, "archive_DummyECApplet"},
	{0x010000000000101C, "archive_userMigration"},
	{0x010000000000101D, "archive_EncounterSys"},
	{0x010000000000101E, "archive_"},
	{0x010000000000101F, "archive_"},
	{0x0100000000001020, "archive_story"},
	{0x0100000000001021, "archive_"},
	{0x0100000000001023, "archive_statistics"},
	{0x0100000000001025, "archive_"},
	{0x0100000000001028, "archive_"},
	{0x010000000000102A, "archive_"},
	{0x0100000000001031, "archive_"},
	{0x0100000000001033, "archive_promotion"},
	{0x0100000000001034, "archive_"},
	{0x0100000000001038, "archive_sample"},

	{0x01008BB00013C000, "app_flog"},
	{0x0100069000078000, "app_RetailInteractiveDisplayMenu"},
	{0x010000B003486000, "app_AudioUsbMicDebugTool"},
	{0x0100458001E04000, "app_BcatTestApp01"},
	{0x0100F910020F8000, "app_BcatTestApp02"},
	{0x0100B7D0020FC000, "app_BcatTestApp03"},
	{0x0100132002100000, "app_BcatTestApp04"},
	{0x0100935002116000, "app_BcatTestApp05"},
	{0x0100DA4002130000, "app_BcatTestApp06"},
	{0x0100B0F002104000, "app_BcatTestApp07"},
	{0x010051E002132000, "app_BcatTestApp08"},
	{0x01004CB0015C8000, "app_BcatTestApp09"},
	{0x01009720015CA000, "app_BcatTestApp10"},
	{0x01002F20015C6000, "app_BcatTestApp11"},
	{0x0100204001F90000, "app_BcatTestApp12"},
	{0x0100060001F92000, "app_BcatTestApp13"},
	{0x0100C26001F94000, "app_BcatTestApp14"},
	{0x0100462001F96000, "app_BcatTestApp15"},
	{0x01005C6001F98000, "app_BcatTestApp16"},
	{0x010070000E3C0000, "app_EncounterUsr"},
	{0x010086000E49C000, "app_EncounterUsrDummy"},
	{0x0100810002D5A000, "app_ShopMonitaringTool"},
	{0x010023D002B98000, "app_DeltaStress"},
};

static size_t g_hos_tid_nb = (sizeof(g_hos_tids) / sizeof(g_hos_tids[0]));

static int _compHosTid(const void* a, const void* b) {
	return ((HosTid*)a)->tid - ((HosTid*)b)->tid;
}

const char* hosTidFindName(u64 tid) {
	HosTid* result = (HosTid*)bsearch(&tid, g_hos_tids, g_hos_tid_nb, sizeof(HosTid), _compHosTid);

	if(result) {
		return result->name;
	}

	return NULL;
}
